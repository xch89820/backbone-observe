<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>backbone-observe benchmark suite</title>
    <!-- Bootstrap -->
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css" rel="stylesheet">

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prettify/r298/run_prettify.js"></script>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <![endif]-->
</head>
<body>
<div class="container">
    <h1 id="overview" class="page-header">backbone-observe benchmark suite test
        <small>Power by <a href="http://benchmarkjs.com/" target="_blank">benchmarkjs</a></small>
    </h1>
    <div id="not-support" class="alert alert-danger" role="alert" style="display: none;">
        <strong>Important</strong> 
        <p>You browser not support Object.observe or Object.prototype.watch!!!</p>
    </div>
    <h2>Basic set test</h2>
<pre class="prettyprint">
    //Original Backbone
    var backboneModel = new Backbone.Model();
    backboneModel.on("change:foo", function(){
        if (this.get("foo") !== 2){
            //Error...
        }
    });
    backboneModel.set({"foo": 2});
    
    //backbone-observe
    var backboneOberveModel = new Backbone.Observe.model();
    backboneOberveModel.on("change:foo", function () {
        if (this.get("foo") !== 2){
            //Error...
        }
    });
    backboneOberveModel.set({"foo": 2});
</pre>

    <h2>Basic unset test</h2>
<pre class="prettyprint">
    //Original Backbone
    var backboneModel = new Backbone.Model({"foo": 2});
    backboneModel.on("change:foo", function(){
        if (typeof this.get("foo") !== "undefined"){
            //Error...
        }
    });
    backboneModel.unset("foo");
    
    //backbone-observe
    var backboneOberveModel = new Backbone.Observe.model({"foo": 2});
    backboneOberveModel.on("change:foo", function () {
        if (typeof this.get("foo") !== "undefined"){
            //Error...
        }
    });
    backboneOberveModel.unset("foo");
</pre>

    <h3>Test Progress</h3>

    <div class="progress">
        <div class="progress-bar" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100"
             style="width: 0%;">
            <span>0% Complete</span>
        </div>
    </div>

    <h3>Test Result</h3>

    <div id="test-result"></div>

    
    <div id="error-result" class="alert alert-danger" role="alert" style="display: none;">
    </div>
</div>


<applet code="nano" archive="vendor/nano.jar"></applet>
<!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
<script src="http://code.jquery.com/jquery-1.11.2.min.js"></script>
<!-- Latest compiled and minified JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/js/bootstrap.min.js"></script>

<script src="vendor/lodash.js"></script>
<script src="vendor/platform.js"></script>
<script src="vendor/benchmark.js"></script>

<script src="vendor/underscore.js"></script>
<script src="vendor/backbone.js"></script>
<script src="../src/backbone-observe.js"></script>
<script src="benchmark-test.js"></script>
</body>
</html>
